{% extends 'base.html' %}

{% block title %}Profil bearbeiten{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">âš™ï¸ Profil bearbeiten</h1>
    
    <!-- Profil-Formular -->
    <form method="post" class="bg-white rounded-lg shadow-md p-6 space-y-6 mb-8">
        {% csrf_token %}
        
        <div>
            <label for="id_first_name" class="block text-sm font-medium text-gray-700 mb-2">
                Vorname
            </label>
            <input 
                type="text" 
                name="first_name" 
                id="id_first_name"
                value="{{ user.first_name|default:'' }}" 
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-flag focus:border-transparent"
            >
        </div>
        
        <div>
            <label for="id_last_name" class="block text-sm font-medium text-gray-700 mb-2">
                Nachname
            </label>
            <input 
                type="text" 
                name="last_name" 
                id="id_last_name"
                value="{{ user.last_name|default:'' }}" 
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-flag focus:border-transparent"
            >
        </div>
        
        <div>
            <label for="id_email" class="block text-sm font-medium text-gray-700 mb-2">
                E-Mail
            </label>
            <input 
                type="email" 
                name="email" 
                id="id_email"
                value="{{ user.email }}" 
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-flag focus:border-transparent"
            >
        </div>
        
        <div class="flex gap-4">
            <button 
                type="submit" 
                class="bg-red-flag hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition transform hover:scale-105"
            >
                ğŸ’¾ Speichern
            </button>
            <a 
                href="{% url 'accounts:profile' %}" 
                class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-lg transition"
            >
                Abbrechen
            </a>
        </div>
    </form>

    <!-- Passwort Ã¤ndern -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-bold text-gray-900 mb-4">ğŸ” Passwort Ã¤ndern</h2>
        <p class="text-gray-600 mb-4">
            MÃ¶chtest du dein Passwort Ã¤ndern? Nutze die sichere Passwort-Ã„nderungs-Funktion.
        </p>
        <a 
            href="{% url 'account_change_password' %}" 
            class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition"
        >
            Passwort Ã¤ndern
        </a>
    </div>
    
    <!-- Danger Zone -->
    <div class="bg-red-50 border-2 border-red-200 rounded-lg p-6">
        <h2 class="text-xl font-bold text-red-900 mb-4">âš ï¸ Danger Zone</h2>
        <p class="text-red-700 mb-4">
            Account-LÃ¶schung ist permanent und kann nicht rÃ¼ckgÃ¤ngig gemacht werden. 
            Alle deine Daten, Analysen und Credits werden unwiderruflich gelÃ¶scht.
        </p>
        <a 
            href="{% url 'accounts:delete' %}" 
            class="inline-block bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition"
        >
            Account lÃ¶schen
        </a>
    </div>
</div>
{% endblock %}
